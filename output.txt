qemu-system-x86_64  -m 16M -serial mon:stdio -smp cpus=1 -drive file=out/fs.img,index=1,media=disk,format=raw -drive file=out/xk.img,index=0,media=disk,format=raw -nographic
c[?7l[2J[0mSeaBIOS (version rel-1.11.2-0-gf9626ccb91-prebuilt.qemu-project.org)


iPXE (http://ipxe.org) 00:03.0 C980 PCI2.10 PnP PMM+00F91530+00EF1530 C980
Press Ctrl-B to configure iPXE (PCI 00:03.0)...                                                                               


Booting from Hard Disk..xk...
CPU: QEMU Virtual CPU version 2.5+
  fpu de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2
  sse3 cx16 hypervisor
  syscall nx lm
  lahf_lm svm
E820: physical memory map [mem 0x9000-0x908f]
  [mem 0x0-0x9fbff] available
  [mem 0x9fc00-0x9ffff] reserved
  [mem 0xf0000-0xfffff] reserved
  [mem 0x100000-0xfdffff] available
  [mem 0xfe0000-0xffffff] reserved
  [mem 0xfffc0000-0xffffffff] reserved

cpu0: starting xk

free pages: 3723
cpu0: starting
ab5test_c 4
sb: size 100000 nblocks 83569 bmap start 16406 inodestart 16431
init: starting sh
$ exec ab5test_c failed
$ lab5test_c 5
lab5test_c starting
crashing after 5 bwrites
File does not exist yet.
c[?7l[2J[0mSeaBIOS (version rel-1.11.2-0-gf9626ccb91-prebuilt.qemu-project.org)


iPXE (http://ipxe.org) 00:03.0 C980 PCI2.10 PnP PMM+00F91530+00EF1530 C980
Press Ctrl-B to configure iPXE (PCI 00:03.0)...                                                                               


Booting from Hard Disk..xk...
CPU: QEMU Virtual CPU version 2.5+
  fpu de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2
  sse3 cx16 hypervisor
  syscall nx lm
  lahf_lm svm
E820: physical memory map [mem 0x9000-0x908f]
  [mem 0x0-0x9fbff] available
  [mem 0x9fc00-0x9ffff] reserved
  [mem 0xf0000-0xfffff] reserved
  [mem 0x100000-0xfdffff] available
  [mem 0xfe0000-0xffffff] reserved
  [mem 0xfffc0000-0xffffffff] reserved

cpu0: starting xk

free pages: 3723
cpu0: starting
lab5test_c 8
sb: size 100000 nblocks 83569 bmap start 16406 inodestart 16431
init: starting sh
$ lalab5test_c 9
b5test_c starting
crashing after 8 bwrites
File does not exist yet.
lab5test_c 10
c[?7l[2J[0mSeaBIOS (version rel-1.11.2-0-gf9626ccb91-prebuilt.qemu-project.org)


iPXE (http://ipxe.org) 00:03.0 C980 PCI2.10 PnP PMM+00F91530+00EF1530 C980
Press Ctrl-B to configure iPXE (PCI 00:03.0)...                                                                               


Booting from Hard Disk..xk...
CPU: QEMU Virtual CPU version 2.5+
  fpu de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2
  sse3 cx16 hypervisor
  syscall nx lm
  lahf_lm svm
E820: physical memory map [mem 0x9000-0x908f]
  [mem 0x0-0x9fbff] available
  [mem 0x9fc00-0x9ffff] reserved
  [mem 0xf0000-0xfffff] reserved
  [mem 0x100000-0xfdffff] available
  [mem 0xfe0000-0xffffff] reserved
  [mem 0xfffc0000-0xffffffff] reserved

cpu0: starting xk

free pages: 3723
cpu0: starting
b5test_c 11
lab5test_c 12
sb: size 100000 nblocks 83569 bmap start 16406 inodestart 16431
init: starting sh
lab5test_c 13
$ exec b5test_c failed
$ lab5test_c starting
crashing after 12 bwrites
File does not exist yet.
c[?7l[2J[0mSeaBIOS (version rel-1.11.2-0-gf9626ccb91-prebuilt.qemu-project.org)


iPXE (http://ipxe.org) 00:03.0 C980 PCI2.10 PnP PMM+00F91530+00EF1530 C980
Press Ctrl-B to configure iPXE (PCI 00:03.0)...                                                                               


Booting from Hard Disk...
xk...
CPU: QEMU Virtual CPU version 2.5+
  fpu de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2
  sse3 cx16 hypervisor
  syscall nx lm
  lahf_lm svm
E820: physical memory map [mem 0x9000-0x908f]
  [mem 0x0-0x9fbff] available
  [mem 0x9fc00-0x9ffff] reserved
  [mem 0xf0000-0xfffff] reserved
  [mem 0x100000-0xfdffff] available
  [mem 0xfe0000-0xffffff] reserved
  [mem 0xfffc0000-0xffffffff] reserved

cpu0: starting xk

free pages: 3723
cpu0: starting
ab5test_c 17
sb: size 100000 nblocks 83569 bmap start 16406 inodestart 16431
init: starting sh
$ exec ab5test_c failed
$ lab5test_c 18
lab5test_c starting
crashing after 18 bwrites
File does not exist yet.
c[?7l[2J[0mSeaBIOS (version rel-1.11.2-0-gf9626ccb91-prebuilt.qemu-project.org)


iPXE (http://ipxe.org) 00:03.0 C980 PCI2.10 PnP PMM+00F91530+00EF1530 C980
Press Ctrl-B to configure iPXE (PCI 00:03.0)...                                                                               


Booting from Hard Disk..xk...
CPU: QEMU Virtual CPU version 2.5+
  fpu de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2
  sse3 cx16 hypervisor
  syscall nx lm
  lahf_lm svm
E820: physical memory map [mem 0x9000-0x908f]
  [mem 0x0-0x9fbff] available
  [mem 0x9fc00-0x9ffff] reserved
  [mem 0xf0000-0xfffff] reserved
  [mem 0x100000-0xfdffff] available
  [mem 0xfe0000-0xffffff] reserved
  [mem 0xfffc0000-0xffffffff] reserved

cpu0: starting xk

free pages: 3723
cpu0: starting
ab5test_c 19
lab5test_c 20
sb: size 100000 nblocks 83569 bmap start 16406 inodestart 16431
init: starting sh
$ exec ab5test_c failed
$ lab5test_c starting
crashing after 20 bwrites
File does exist before creation. Checking consistency.
File has been created and system is good!
lab5test_c passed!
$ lab5test_c 21
lab5test_c starting
crashing after 21 bwrites
File does exist before creation. Checking consistency.
File has been created and system is good!
lab5test_c passed!
$ lab5test_c 22
lab5test_c starting
crashing after 22 bwrites
File does exist before creation. Checking consistency.
File has been created and system is good!
lab5test_c passed!
$ lab5test_c 23
lab5test_c starting
crashing after 23 bwrites
File does exist before creation. Checking consistency.
File has been created and system is good!
lab5test_c passed!
$ lab5test_c 24
lab5test_c starting
crashing after 24 bwrites
File does exist before creation. Checking consistency.
File has been created and system is good!
lab5test_c passed!
$ lab5test_c 25
lab5test_c starting
crashing after 25 bwrites
File does exist before creation. Checking consistency.
File has been created and system is good!
lab5test_c passed!
$ lab5test_c 26
lab5test_c starting
crashing after 26 bwrites
File does exist before creation. Checking consistency.
File has been created and system is good!
lab5test_c passed!
$ lab5test_c 27
lab5test_c starting
crashing after 27 bwrites
File does exist before creation. Checking consistency.
File has been created and system is good!
lab5test_c passed!
$ lab5test_c 28
lab5test_c starting
crashing after 28 bwrites
File does exist before creation. Checking consistency.
File has been created and system is good!
lab5test_c passed!
$ lab5test_c 29
lab5test_c starting
crashing after 29 bwrites
File does exist before creation. Checking consistency.
File has been created and system is good!
lab5test_c passed!
$ lab5test_c 30
lab5test_c starting
crashing after 30 bwrites
File does exist before creation. Checking consistency.
File has been created and system is good!
lab5test_c passed!
$ 